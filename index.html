
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;csharp&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="csharp">csharp</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#5ea2e0cde2" class="toc-h1 toc-link" data-title="">简介</a>
          </li>
          <li>
            <a href="#6d771aea9a" class="toc-h1 toc-link" data-title="">渲染原理</a>
          </li>
          <li>
            <a href="#0962b93fb6" class="toc-h1 toc-link" data-title="">开发环境</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#unity" class="toc-h2 toc-link" data-title="unity">Unity支持版本</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#33bc389d64" class="toc-h1 toc-link" data-title="">图文教程</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#demo" class="toc-h2 toc-link" data-title="demo">如何运行Demo</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#e8e941b2f4" class="toc-h1 toc-link" data-title="">视频教程</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#hello-world-marker-tracking" class="toc-h2 toc-link" data-title="hello-world-marker-tracking">Hello World: Marker Tracking</a>
                  </li>
                  <li>
                    <a href="#slideinsdk-prefab" class="toc-h2 toc-link" data-title="slideinsdk-prefab">如何设置SlideInSDK Prefab</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#api" class="toc-h1 toc-link" data-title="api">API文档</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#xcobrainput" class="toc-h2 toc-link" data-title="xcobrainput">XCobraInput</a>
                  </li>
                  <li>
                    <a href="#xdeviceplugin" class="toc-h2 toc-link" data-title="xdeviceplugin">XDevicePlugin</a>
                  </li>
                  <li>
                    <a href="#controllerinput" class="toc-h2 toc-link" data-title="controllerinput">ControllerInput</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://gitee.com/XIMMERSE-SZ/XimmerseSDK'>SDK下载地址</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='5ea2e0cde2'>简介</h1>
<p>感谢您使用Ximmerse Slide-in AR头显。Ximmerse Slide-in AR头显的跟踪技术基于IR（红外射线）Marker跟踪技术。头显本身依靠手机的USB供电；IR Marker则不需要任何供电。Marker本身可以提供位置和旋转信息，同时，也可以与Ximmerse Flip一起使用来实现更为灵活，强大的交互体验。</p>
<h1 id='6d771aea9a'>渲染原理</h1>
<p>Ximmerse Slide-in AR双屏显示和传统VR类似。不用的是，AR的双屏画面会投射到头显的，由于镜片反射出来的图片会产生畸变。所以在Unity有两个摄像机专门负责生成RenderTexture，然后将生成的texture赋予到一个反畸变的mesh上。然后mesh上的图像再投射到曲面镜片后，这时人眼就可以看到正常的无畸变图像。</p>
<h1 id='0962b93fb6'>开发环境</h1><h2 id='unity'>Unity支持版本</h2>
<p>2017.2.0</p>
<h1 id='33bc389d64'>图文教程</h1><h2 id='demo'>如何运行Demo</h2>
<p>SDK本身还有供给开发者参考的demo。本文将以MiniWorldAR Demo为例，给出如何使用说明。</p>

<ol>
<li><p>首先打开下图所示的Build Automator工具：
<img style="float: right;" src="images/demo_run_automator0.png"></p></li>
<li><p>将Current Preset修改为你想选择的demo。本文以miniworld为例：
<img style="float: right;" src="images/demo_run_automator1.png"></p></li>
<li><p>点选Load Preset：
<img style="float: right;" src="images/demo_run_automator2.png"></p></li>
<li><p>接下来会出现提示框说明Preset已经加载成功：
<img style="float: right;" src="images/demo_run_automator3.png"></p></li>
<li><p>选择Build按键即可生成APK：
<img style="float: right;" src="images/demo_run_automator4.png"></p></li>
<li><p>将APK安装入手机即可运行测试。</p></li>
</ol>
<h1 id='e8e941b2f4'>视频教程</h1><h2 id='hello-world-marker-tracking'>Hello World: Marker Tracking</h2>
<p><a href="http://v.youku.com/v_show/id_XMzU2OTM2ODkzMg==.html?spm=a2h3j.8428770.3416059.1"><img src="images/hello_world_marker_tracking.png" alt="IMAGE ALT TEXT" /></a></p>
<h2 id='slideinsdk-prefab'>如何设置SlideInSDK Prefab</h2>
<p><a href="http://v.youku.com/v_show/id_XMzU3NzY2OTI0NA==.html?spm=a2h3j.8428770.3416059.1"><img src="images/slide_in_sdk_prefab_tutorial.png" alt="IMAGE ALT TEXT" /></a></p>
<h1 id='api'>API文档</h1><h2 id='xcobrainput'>XCobraInput</h2>
<p>XCobraInput本身是对ControllerInput的封装。目前只支持单个手柄（也就是做手柄或XCobra-0手柄）。</p>
<h3 id='xcobrainput-initialize'>XCobraInput.Initialize()</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>void</td>
<td>初始化SDK和硬件。</td>
</tr>
</tbody></table>
<h3 id='xcobrainput-headdeltarotationangle'>XCobraInput.HeadDeltaRotationAngle</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>float</td>
<td>获取头部旋转delta角度（和上一帧比较）。</td>
</tr>
</tbody></table>
<h3 id='xcobrainput-hascontrollertriggerinput'>XCobraInput.HasControllerTriggerInput（）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>bool</td>
<td>手柄trigger是否按下。</td>
</tr>
</tbody></table>
<h3 id='xcobrainput-hascontrollerrecenterinput'>XCobraInput.HasControllerRecenterInput（）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>bool</td>
<td>回中按键是否按下。</td>
</tr>
</tbody></table>
<h3 id='xcobrainput-recentercontroller-float-yaw'>XCobraInput.RecenterController(float yaw)（）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>void</td>
<td>进行回中处理。通常可以用参数0.0f来使手柄和当前头部方向一致。</td>
</tr>
</tbody></table>
<h3 id='xcobrainput-getcontrollerrotation'>XCobraInput.GetControllerRotation（）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>Quaternion</td>
<td>获取手柄旋转姿态（这是处理后的旋转姿态，可以直接使用）。</td>
</tr>
</tbody></table>
<h3 id='xcobrainput-getcontrollerrawrotation'>XCobraInput.GetControllerRawRotation（）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>Quaternion</td>
<td>获取手柄旋转姿态（裸数据）。</td>
</tr>
</tbody></table>
<h3 id='xcobrainput-viberate-int-strength-float-time'>XCobraInput.Viberate(int strength, float time)</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>void</td>
<td>使手柄震动。strength为强度，取值区间为0-100。</td>
</tr>
</tbody></table>
<h3 id='xcobrainput-iscontrollerbuttondown-ximmersebutton-btn'>XCobraInput.IsControllerButtonDown(XimmerseButton btn)</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>bool</td>
<td>判断XimmerseButton是否被按下（和上一帧对比）。</td>
</tr>
</tbody></table>
<h3 id='xcobrainput-iscontrollerbuttonup-ximmersebutton-btn'>XCobraInput.IsControllerButtonUp(XimmerseButton btn)</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>bool</td>
<td>判断XimmerseButton是否被松开（和上一帧对比）。</td>
</tr>
</tbody></table>
<h3 id='xcobrainput-iscontrollerbuttonpressed-ximmersebutton-btn'>XCobraInput.IsControllerButtonPressed(XimmerseButton btn)</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>bool</td>
<td>判断XimmerseButton当前是否被按下。</td>
</tr>
</tbody></table>
<h3 id='xcobrainput-gettouchpadposition'>XCobraInput.GetTouchPadPosition（）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>Vector2</td>
<td>给出当前touch pad手指的位置。</td>
</tr>
</tbody></table>
<h2 id='xdeviceplugin'>XDevicePlugin</h2><pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Ximmerse.InputSystem</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Sample</span> <span class="p">:</span> <span class="n">MonoBehaviour</span> <span class="p">{</span>

    <span class="n">ControllerInput</span> <span class="n">m_controllerInput</span><span class="p">;</span>

    <span class="c1">// Use this for initialization</span>
    <span class="n">IEnumerator</span> <span class="nf">Start</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">XDevicePlugin</span><span class="p">.</span><span class="nf">Init</span><span class="p">();</span>
        <span class="n">XDevicePlugin</span><span class="p">.</span><span class="nf">StartBLEScan</span><span class="p">();</span>
        <span class="n">m_controllerInput</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ControllerInput</span><span class="p">(</span><span class="s">"XCobra-0"</span><span class="p">);</span>

        <span class="k">while</span><span class="p">(</span><span class="n">m_controllerInput</span><span class="p">.</span><span class="n">connectionState</span><span class="p">!=</span> <span class="n">DeviceConnectionState</span><span class="p">.</span><span class="n">Connected</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">yield</span> <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"Controller is connected!!"</span><span class="p">);</span>
        <span class="n">XDevicePlugin</span><span class="p">.</span><span class="nf">StopBLEScan</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="c1">// Update is called once per frame</span>
    <span class="k">void</span> <span class="nf">Update</span> <span class="p">()</span> 
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">m_controllerInput</span><span class="p">.</span><span class="n">connectionState</span> <span class="p">==</span> <span class="n">DeviceConnectionState</span><span class="p">.</span><span class="n">Connected</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"Battery Level = "</span> <span class="p">+</span> <span class="n">m_controllerInput</span><span class="p">.</span><span class="n">batteryLevel</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">m_controllerInput</span><span class="p">.</span><span class="nf">GetButtonDown</span><span class="p">(</span><span class="n">XimmerseButton</span><span class="p">.</span><span class="n">Trigger</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"trigger hit!"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">OnApplicationPause</span><span class="p">(</span><span class="kt">bool</span> <span class="n">pause</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">pause</span><span class="p">)</span>
            <span class="n">XDevicePlugin</span><span class="p">.</span><span class="nf">OnPause</span><span class="p">();</span>
        <span class="k">else</span>
            <span class="n">XDevicePlugin</span><span class="p">.</span><span class="nf">OnResume</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">OnApplicationQuit</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">XDevicePlugin</span><span class="p">.</span><span class="nf">Exit</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>这段Sample Code介绍了XDevice的基本用法。每一步都非常重要。请开发者注意代码中的细节。</p>
</blockquote>

<p>该类是Unity与Native库的桥梁，含有大量的static函数。</p>
<h3 id='xdeviceplugin-init'>XDevicePlugin.Init()</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>int</td>
<td>返回数值在&gt;=0时，代表执行成功。初始化SDK。在调用任何SDK函数前，必须保证该函数已经调用，否则任何SDK中的函数都无法正常工作。</td>
</tr>
</tbody></table>
<h3 id='xdeviceplugin-exit'>XDevicePlugin.Exit()</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>int</td>
<td>返回数值在&gt;=0时，代表执行成功。推荐在游戏关闭时调用，以此释放所有设备的连接。</td>
</tr>
</tbody></table>
<h3 id='xdeviceplugin-onpause'>XDevicePlugin.onPause()</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>void</td>
<td>必须在App进入background的时候调用。</td>
</tr>
</tbody></table>
<h3 id='xdeviceplugin-onresume'>XDevicePlugin.onResume()</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>void</td>
<td>必须在App从background进入前台时调用。</td>
</tr>
</tbody></table>
<h3 id='xdeviceplugin-getinputdevicehandle-string-name'>XDevicePlugin.GetInputDeviceHandle(string name)</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>int</td>
<td>通过设备名字来获取设备的handle。</td>
</tr>
</tbody></table>
<h3 id='xdeviceplugin-getinputdevicename-int-which'>XDevicePlugin.GetInputDeviceName(int which)</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>通过设备handle获取相应设备的设备名称。</td>
</tr>
</tbody></table>
<h3 id='xdeviceplugin-setmaxbleconnection-int-num'>XDevicePlugin.SetMaxBleConnection(int num)</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>void</td>
<td>设置当前最大可连接的手柄数量。最多可以支持2个手柄同时连接。默认情况下，手柄的最大连接数量为1.</td>
</tr>
</tbody></table>
<h3 id='xdeviceplugin-getmaxbleconnection'>XDevicePlugin.GetMaxBleConnection()</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>int</td>
<td>获取当前设置的最大可连接手柄数量。</td>
</tr>
</tbody></table>
<h3 id='xdeviceplugin-startblescan'>XDevicePlugin.StartBLEScan()</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>void</td>
<td>开启手机的scan功能，扫描周围手柄设备。注意：扫描开启后，必须同事按下touchpad下面的两个按键才可以连接成功。</td>
</tr>
</tbody></table>
<h3 id='xdeviceplugin-stopblescan'>XDevicePlugin.StopBLEScan()</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>void</td>
<td>在手柄成功连接后，推荐使用该函数停止手机扫描功能。</td>
</tr>
</tbody></table>
<h2 id='controllerinput'>ControllerInput</h2><pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Ximmerse.InputSystem</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Sample</span> <span class="p">:</span> <span class="n">MonoBehaviour</span> <span class="p">{</span>

    <span class="n">ControllerInput</span> <span class="n">m_controllerInput</span><span class="p">;</span>

    <span class="c1">// Use this for initialization</span>
    <span class="k">void</span> <span class="nf">Start</span> <span class="p">()</span> <span class="p">{</span>
        <span class="n">XDevicePlugin</span><span class="p">.</span><span class="nf">Init</span><span class="p">();</span>
        <span class="n">m_controllerInput</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ControllerInput</span><span class="p">(</span><span class="s">"XCobra-0"</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Update is called once per frame</span>
    <span class="k">void</span> <span class="nf">Update</span> <span class="p">()</span> <span class="p">{</span>
        <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"Battery Level = "</span> <span class="p">+</span> <span class="n">m_controllerInput</span><span class="p">.</span><span class="n">batteryLevel</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">m_controllerInput</span><span class="p">.</span><span class="nf">GetButtonDown</span><span class="p">(</span><span class="n">XimmerseButton</span><span class="p">.</span><span class="n">Trigger</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"trigger hit!"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
<blockquote>
<p>这个是推荐使用的Constructor。&quot;XCobra-0&quot;代表“左”手柄”（其实手柄部分左右，这里用“左”和“右”只是为了方便解释）。类似的，&quot;XCobra-1&quot;代表“右”手柄。</p>
</blockquote>

<p>此类代表真实手柄。手柄当前的位置，手柄姿态（Rotation），手柄按键数，手柄电量，手柄连接状态等均由这个类提供。</p>
<h3 id='controllerinput-type'>ControllerInput.type</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>ControllerType</td>
<td>ControllerInput的type。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-handle'>ControllerInput.handle</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>int</td>
<td>ControllerInput的handle。该数据会被开发者频繁使用。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-name'>ControllerInput.name</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>ControllerInput的名字。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-trackingresult'>ControllerInput.trackingResult</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>TrackingResult</td>
<td>当前跟踪状态。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-positiontracked'>ControllerInput.positionTracked</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>bool</td>
<td>手柄位置是否被跟踪到。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-rotationtracked'>ControllerInput.rotationTracked</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>bool</td>
<td>手柄的旋转姿态是否被跟踪到。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-connectionstate'>ControllerInput.connectionState</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>DeviceConnectionState</td>
<td>获取当前手柄的连接状态。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-batterylevel'>ControllerInput.batteryLevel</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>int</td>
<td>获取当前手柄的电量信息，数值区间为0-100。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-updatestate'>ControllerInput.UpdateState（）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>void</td>
<td>此函数已经被ControllerInput自行调用，无需开发者主动调用。这个函数的作用是从底层库中拉取最新的手柄状态。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-touchpadtodpad'>ControllerInput.TouchpadToDpad（）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>void</td>
<td>此函数将TouchPad的数据转化为DPad数据（但是仍保留原TouchPad数据）。在调用该函数后，开发者可以收到DPad类型的数据。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-touchpadtoswipe'>ControllerInput.TouchpadToSwipe（）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>void</td>
<td>此函数将TouchPad的数据转化为Swipe动作（但是仍保留原TouchPad数据）。在调用该函数后，开发者可以收到Swipe类型的数据。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-getaxis-int-axisindex'>ControllerInput.GetAxis（int axisIndex）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>float</td>
<td>此函数获取当前Touch Pad的位置信息。axisIndex=0时，获取Touch Pad的X/横向坐标。当axisIndex=1时，获取Touch Pad的Y/纵向坐标。当axisIndex=2时，获取Trigger的线性数据。注意：某些手柄不支持Trigger线性数据输出，所以输出的数据会成为0或1。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-getbutton-uint-buttonmask'>ControllerInput.GetButton（uint buttonMask）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>float</td>
<td>此函数检测手柄当前按键状态。请使用<code>XimmerseButton</code>button mask。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-getbuttondown-uint-buttonmask'>ControllerInput.GetButtonDown（uint buttonMask）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>float</td>
<td>此函数检测手柄当前按键和上一帧的对比，是否按下。请使用<code>XimmerseButton</code>button mask。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-getbuttonup-uint-buttonmask'>ControllerInput.GetButtonUp（uint buttonMask）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>float</td>
<td>此函数检测手柄当前按键和上一帧的对比，是否松开。请使用<code>XimmerseButton</code>button mask。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-getposition'>ControllerInput.GetPosition（）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>Vector3</td>
<td>获取当前手柄相对于头显的位置，此位置为裸数据，不可以直接使用。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-getrotation'>ControllerInput.GetRotation（）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>Quaternion</td>
<td>获取当前手柄当前的旋转姿态，此位置为裸数据，不可以直接使用。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-getrotation-2'>ControllerInput.GetRotation（）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>Vector3</td>
<td>获取当前手柄重力加速度计信息。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-getgyroscope'>ControllerInput.GetGyroscope（）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>Vector3</td>
<td>获取当前手柄陀螺仪信息。注意：某些手柄不支持该功能，因此SDK只会输出0，0，0.</td>
</tr>
</tbody></table>
<h3 id='controllerinput-getstate'>ControllerInput.GetState（）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>XDevicePlugin.ControllerState</td>
<td>获取当前手柄的State。这个State会被ControllerInput自行使用。开发者通常无需处理这个State。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-getprevstate'>ControllerInput.GetPrevState（）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>XDevicePlugin.ControllerState</td>
<td>获取手柄上一帧的State。这个State会被ControllerInput自行使用。开发者通常无需处理这个State。</td>
</tr>
</tbody></table>
<h3 id='controllerinput-starthaptics-int-strength-int-frequency-float-duration-0-0f'>ControllerInput.StartHaptics( int strength, int frequency, float duration = 0.0f ）</h3>
<table><thead>
<tr>
<th>Type</th>
<th>解释</th>
</tr>
</thead><tbody>
<tr>
<td>void</td>
<td>使手柄震动。strength：振动强度。frequency：振动频炉，目前只支持0。duration：震动时间长短。注意：某些手柄不支持该功能。</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="csharp">csharp</a>
          </div>
      </div>
    </div>
  </body>
</html>
